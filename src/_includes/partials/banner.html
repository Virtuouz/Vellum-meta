
{% if banner.enable_banner and banner.show_until %}
    <div class="cs-banner cs-w-full flex flex-col items-center justify-center" style="background-color: {{ banner.backgroundColor}}; color: {{ banner.textColor }}">
        <div class="basecontainer w-full">
            <header class=" hidden flex w-full justify-center items-center py-2 relative"
                _="on load
                set :show_until to '{{ banner.show_until }}' as Date log :show_until
                set :hidden to  localStorage.banner_{{ banner.id | slug | remove: '-' }} or (:show_until - Date.now()) < 0 log :hidden
                if not :hidden then
                    log (:show_until - Date.now())
                    remove .hidden from me
                end
            end
            on click from #banner_button_{{ banner.id | slug | remove: '-' }}
                set localStorage.banner_{{ banner.id | slug | remove: '-' }} to true
                add .hidden to me
            end">
                <div>{{ banner.markdown | markdownify }}</div>
                <button class="absolute top-2 -right-4 sm:-right-8" id="banner_button_{{ banner.id | slug | remove: '-' }}">{% bookshop "generic/heroLibraryIcon" heroLibraryIconName:"x-mark" iconType:"solid" iconSize:'small' roundedBorder:false color: banner.textColor  %}</button>
            </header>
        </div>
    </div>
{% endif %}
